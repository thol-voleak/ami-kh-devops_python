{% extends "base.html" %}
{% load static %}

{% block content %}
    <div class="panel mb25">
        <div class="panel-heading border">
            <h3>Report Configurations</h3>
        </div>
    </div>
    <div class="panel-body">
        <div class="row">
             <div class="col-md-2" style="font-size: 15px;font-weight: bold; margin-top: -19px;">Service White List</div>
             <div class="col-md-10" style="border: 1px solid #f7f3f3;">
                <div style="max-height: 400px; overflow-y: scroll" id="service-whitelist-content-area">
                    {% for service_group in service_group_list %}
                        <div style="position: relative;">
                            <span style="cursor: pointer; position: absolute; top: 2px;" class="glyphicon glyphicon-plus" data-toggle="collapse" data-target="#collapse-{{ service_group.service_group_id }}" id="toggle-sign-{{ service_group.service_group_id }}"></span>
                            <div class="checkbox" style="margin-left: 20px;" id="service-group-{{ service_group.service_group_id }}">
                                <label>
                                    <input type="checkbox" id="chk_service_group_id" name="service-group" {% if service_group.is_checked %}checked{% endif %} /><span {% if service_group.is_deleted %}style="color: #a7a0a0;"{% endif %}>{{ service_group.service_group_name }} ({{ service_group.service_group_id }} - {{ service_group.description }} ) {% if service_group.is_deleted %}(deleted){% endif %}</span></label>
                            </div>
                        </div>
                        <div id="collapse-{{ service_group.service_group_id }}" group-id="{{ service_group.service_group_id }}" class="collapse" style="margin-left: 20px;">
                            {% for service in  service_group.service_list %}
                             <div class="checkbox" style="margin-left: 20px;" id="service-{{ service.service_id }}">
                                <label>
                                    <input type="checkbox" id="chk_service_id" name="service" {% if service.is_checked %}checked{% endif %}><span {% if service.is_deleted %}style="color: #a7a0a0;"{% endif %}>{{ service.service_name }} ({{ service.service_id }} - {{ service.description }} ){% if service.is_deleted %}(deleted){% endif %}</span></label>
                            </div>
                            {% endfor %}
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
        <div class="row pull-right" style="margin-top: 20px;">
            <a>
                <input id="btn_save" class="btn btn-success text-left mb15" type="submit" value="Save"/>
            </a>
        </div>
    </div>
{% endblock %}
{% block body_js %}
{{ block.super }}
    <script>
        $('.collapse').on('hide.bs.collapse', function () {
            var elem = document.getElementById('toggle-sign-' + $(this).attr('group-id'));
            elem.classList.add("glyphicon-plus");
            elem.classList.remove("glyphicon-minus");
        });
        $('.collapse').on('show.bs.collapse', function () {
            var elem = document.getElementById('toggle-sign-' + $(this).attr('group-id'));
            elem.classList.remove("glyphicon-plus");
            elem.classList.add("glyphicon-minus");
        });
    </script>
{% endblock %}